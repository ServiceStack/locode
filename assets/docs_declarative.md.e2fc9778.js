import{_ as n,c as a,o as s,a as t}from"./app.3e6fe014.js";const m='{"title":"Customize declaratively with Attributes","description":"","frontmatter":{},"headers":[{"level":3,"title":"Talent Blazor - talent.locode.dev","slug":"talent-blazor-talent-locode-dev"},{"level":3,"title":"Chinook - chinook.locode.dev","slug":"chinook-chinook-locode-dev"},{"level":3,"title":"Northwind Auto - northwind.locode.dev","slug":"northwind-auto-northwind-locode-dev"},{"level":2,"title":"Customize Schema with OrmLite Attributes","slug":"customize-schema-with-ormlite-attributes"},{"level":2,"title":"Auth & Validation Rules","slug":"auth-validation-rules"},{"level":2,"title":"Annotate APIs","slug":"annotate-apis"},{"level":2,"title":"AutoQuery Behaviour","slug":"autoquery-behaviour"},{"level":2,"title":"Formatters","slug":"formatters"},{"level":2,"title":"Custom Input Controls","slug":"custom-input-controls"},{"level":2,"title":"Lookup References","slug":"lookup-references"},{"level":2,"title":"File Uploads","slug":"file-uploads"}],"relativePath":"docs/declarative.md"}',o={},e=t(`<h1 id="customize-declaratively-with-attributes" tabindex="-1">Customize declaratively with Attributes <a class="header-anchor" href="#customize-declaratively-with-attributes" aria-hidden="true">#</a></h1><p>A significant amount of customization of Locode Apps, ServiceStack APIs and OrmLite Data Models can be achieved declaratively through C# Attributes which is used extensively by Locode App Demos to achieve its customized behavior by annotating its C# API <strong>DTOs</strong> with the rich functionality available in ServiceStack&#39;s Attributes:</p><h3 id="talent-blazor-talent-locode-dev" tabindex="-1">Talent Blazor - <a href="https://talent.locode.dev" target="_blank" rel="noopener noreferrer">talent.locode.dev</a> <a class="header-anchor" href="#talent-blazor-talent-locode-dev" aria-hidden="true">#</a></h3><ul><li><a href="https://github.com/NetCoreApps/TalentBlazor/blob/main/TalentBlazor.ServiceModel/Talent.cs" target="_blank" rel="noopener noreferrer">Talent.cs</a></li></ul><h3 id="chinook-chinook-locode-dev" tabindex="-1">Chinook - <a href="https://chinook.locode.dev" target="_blank" rel="noopener noreferrer">chinook.locode.dev</a> <a class="header-anchor" href="#chinook-chinook-locode-dev" aria-hidden="true">#</a></h3><ul><li><a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Types/Models.cs" target="_blank" rel="noopener noreferrer">Types/Models.cs</a></li><li><a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Media.cs" target="_blank" rel="noopener noreferrer">Media.cs</a></li><li><a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Store.cs" target="_blank" rel="noopener noreferrer">Store.cs</a></li></ul><h3 id="northwind-auto-northwind-locode-dev" tabindex="-1">Northwind Auto - <a href="https://northwind.locode.dev" target="_blank" rel="noopener noreferrer">northwind.locode.dev</a> <a class="header-anchor" href="#northwind-auto-northwind-locode-dev" aria-hidden="true">#</a></h3><ul><li><a href="https://github.com/NetCoreApps/NorthwindAuto/blob/master/Configure.AppHost.cs" target="_blank" rel="noopener noreferrer">Configure.AppHost.cs</a></li></ul><p>When you&#39;ve started with a <a href="/docs/database-first.html">Database First</a> development model the Types are generated and only exist at runtime which typically would prohibit them from being annotated with C# attributes, however <a href="https://docs.servicestack.net/autoquery-autogen" target="_blank" rel="noopener noreferrer">AutoQuery AutoGen&#39;s</a> <code>ServiceFilter</code> and <code>TypeFilter</code> lets you customize</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AutoQueryFeature</span> <span class="token punctuation">{</span>
    GenerateCrudServices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GenerateCrudServices</span> <span class="token punctuation">{</span>
        AutoRegister <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        ServiceFilter <span class="token operator">=</span> <span class="token punctuation">(</span>op<span class="token punctuation">,</span> req<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Annotate all Auto generated Request DTOs with [Tag(&quot;Northwind&quot;)] attribute</span>
            op<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">AddAttributeIfNotExists</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">TagAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;Northwind&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        TypeFilter <span class="token operator">=</span> <span class="token punctuation">(</span>type<span class="token punctuation">,</span> req<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Icons<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> icon<span class="token punctuation">)</span><span class="token punctuation">)</span>
                type<span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">IconAttribute</span> <span class="token punctuation">{</span> Svg <span class="token operator">=</span> Svg<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">IsCrudCreateOrUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;Employee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                type<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span><span class="token function">RemoveAll</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;Photo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                type<span class="token punctuation">.</span><span class="token function">ReorderProperty</span><span class="token punctuation">(</span><span class="token string">&quot;PhotoPath&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">before</span><span class="token punctuation">:</span> <span class="token string">&quot;Title&quot;</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatAttribute</span><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>IconRounded<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                type<span class="token punctuation">.</span><span class="token function">ReorderProperty</span><span class="token punctuation">(</span><span class="token string">&quot;ReportsTo&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">after</span><span class="token punctuation">:</span> <span class="token string">&quot;Title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">IsCrud</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;PhotoPath&quot;</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">InputAttribute</span> <span class="token punctuation">{</span> Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>File <span class="token punctuation">}</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadToAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;employees&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;Notes&quot;</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">InputAttribute</span> <span class="token punctuation">{</span> Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Textarea <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;Order&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                type<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">.</span><span class="token function">EndsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Date&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Each</span><span class="token punctuation">(</span>p <span class="token operator">=&gt;</span>
                    p<span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">IntlDateTime</span><span class="token punctuation">(</span>DateStyle<span class="token punctuation">.</span>Medium<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;Freight&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">IntlNumber</span> <span class="token punctuation">{</span> Currency <span class="token operator">=</span> NumberCurrency<span class="token punctuation">.</span>USD <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;ShipVia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span>
                    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RefAttribute</span> <span class="token punctuation">{</span> Model <span class="token operator">=</span> <span class="token string">&quot;Shipper&quot;</span><span class="token punctuation">,</span> RefId <span class="token operator">=</span> <span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> RefLabel <span class="token operator">=</span> <span class="token string">&quot;CompanyName&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span>Name <span class="token keyword">is</span> <span class="token string">&quot;Customer&quot;</span> <span class="token keyword">or</span> <span class="token string">&quot;Supplier&quot;</span> <span class="token keyword">or</span> <span class="token string">&quot;Shipper&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;Phone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatAttribute</span><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>LinkPhone<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;Fax&quot;</span><span class="token punctuation">)</span><span class="token punctuation">?.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatAttribute</span><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>LinkPhone<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="customize-schema-with-ormlite-attributes" tabindex="-1">Customize Schema with OrmLite Attributes <a class="header-anchor" href="#customize-schema-with-ormlite-attributes" aria-hidden="true">#</a></h2><h2 id="auth-validation-rules" tabindex="-1">Auth &amp; Validation Rules <a class="header-anchor" href="#auth-validation-rules" aria-hidden="true">#</a></h2><h2 id="annotate-apis" tabindex="-1">Annotate APIs <a class="header-anchor" href="#annotate-apis" aria-hidden="true">#</a></h2><h2 id="autoquery-behaviour" tabindex="-1">AutoQuery Behaviour <a class="header-anchor" href="#autoquery-behaviour" aria-hidden="true">#</a></h2><h2 id="formatters" tabindex="-1">Formatters <a class="header-anchor" href="#formatters" aria-hidden="true">#</a></h2><h2 id="custom-input-controls" tabindex="-1">Custom Input Controls <a class="header-anchor" href="#custom-input-controls" aria-hidden="true">#</a></h2><h2 id="lookup-references" tabindex="-1">Lookup References <a class="header-anchor" href="#lookup-references" aria-hidden="true">#</a></h2><h2 id="file-uploads" tabindex="-1">File Uploads <a class="header-anchor" href="#file-uploads" aria-hidden="true">#</a></h2>`,18),p=[e];function c(u,i,l,r,k,d){return s(),a("div",null,p)}var f=n(o,[["render",c]]);export{m as __pageData,f as default};
